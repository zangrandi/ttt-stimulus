<!DOCTYPE html>
<html>
  <head>
    <title>TttStimulus</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">

  </head>

  <body 
    class="bg-gray-100 flex items-center justify-center min-h-screen relative"
    data-controller="game"
    data-game-token-value="<%= @game.token %>"
  >
    <header class="w-full py-4 fixed top-0 flex justify-center items-center">
      <h1 class="text-2xl font-bold mb-4 text-center text-gray-700">
        Turbo Tic Tac Toe
      </h1>
    </header>

    <main class="container mx-auto px-5 flex items-center justify-center min-h-screen">
      <%= yield %>
    </main>

    <footer class="w-full bg-gray-800 text-white text-center py-4 fixed bottom-0">
      Developed by Augusto Zangrandi
    </footer>

    <div 
      id="join-game-modal" 
      class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center hidden"
      data-game-target="modal"
    >
      <div class="bg-white p-6 rounded-lg shadow-lg w-96">
        <h2 class="text-xl font-bold mb-4 text-gray-700">Join a Game</h2>
        <form data-action="submit->game#joinGame">
          <label for="game-token" class="block text-gray-600 mb-2">Game Token</label>
          <input 
            type="text" 
            id="game-token" 
            name="game_token" 
            class="w-full px-4 py-2 border rounded-lg mb-4"
            placeholder="Enter Game Token"
            required
          >
          <div class="flex justify-end">
            <button 
              type="button" 
              class="bg-gray-300 text-gray-700 px-4 py-2 rounded-md mr-2"
              data-action="click->game#closeModal"
            >
              Cancel
            </button>
            <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">
              Join
            </button>
          </div>
        </form>
      </div>
    </div>
  </body>
</html>
